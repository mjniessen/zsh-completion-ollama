#compdef radio

#
# Completion definition for radio.
#
# Author:
#   Maurice J Niessen <info@mjniessen.com>
#

_radio() {
	local state line

	_arguments -C \
    '--version[get version]:' \
		'--usage[Show usage]:' \
		'--help[Show help]:' \
		'(-): :->command' \

	case $state in
		(command)
			_radio_commands
			;;
   esac
}

_radio_commands() {
  declare -a subcommands stations
  subcommands=(on off toggle stations)
  _describe -t radio-commands "radio command" subcommands
	IFS=$'\n' stations=($(radio stations))
	_describe -t radio-stations "radio station" stations
}

_radio "$@"

# vim:ft=zsh ts=2 sw=2 sts=2
